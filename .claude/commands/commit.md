---
description: Git 커밋 (자동 메시지 생성, 항상 확인 후 커밋)
allowed-tools: Bash(git add:*), Bash(git status:*), Bash(git commit:*), Bash(git diff:*), Bash(git log:*)
argument-hint: ["커밋 메시지" (선택)]
---

## 현재 상태

- Git status: !`git status`
- Staged changes: !`git diff --cached`
- Unstaged changes: !`git diff`
- Recent commits: !`git log --oneline -5`

## 인자

**$ARGUMENTS**

## 모드 판별

| 인자   | 동작                                                              |
| ------ | ----------------------------------------------------------------- |
| (없음) | 변경사항 분석 후 자동으로 커밋 메시지 생성                        |
| 텍스트 | 입력된 텍스트를 subject로 사용하고, body는 변경사항 기반으로 생성 |

---

## 공통 규칙

1. 변경사항이 없으면 커밋하지 않고 알려주세요
2. Untracked 파일과 Unstaged 변경사항은 묻지 말고 모두 자동으로 stage 후 커밋
3. **커밋 메시지 선택에 대해서만 사용자에게 확인을 받으세요**
4. **커밋 메시지에 "Generated with Claude Code", "Co-Authored-By" 등의 자동 생성 문구를 절대 추가하지 마세요**
5. **언어 선택 이유나 판단 과정을 설명하지 마세요. 커밋 메시지만 간결하게 제시하세요**

## 커밋 메시지 생성 규칙

변경사항을 분석하여 적절한 언어와 형식으로 메시지를 생성하세요.

사용자가 입력한 메시지의 언어를 기준으로 선택:

- 입력 메시지가 한국어면 → 한국어
- 입력 메시지가 영어면 → 영어
- 입력이 없으면 → 한국어 (기본값)

**인자가 없는 경우:**

```
type: subject
- 변경사항 기반 body
```

**인자가 있을 경우:**

```
type: 사용자입력
- 변경사항 기반 body
```

type:

- `feat`: 새로운 기능
- `fix`: 버그 수정
- `refactor`: 리팩토링
- `perf`: 성능 개선
- `docs`: 문서 변경
- `test`: 테스트 추가/수정
- `chore`: 빌드, 설정, 의존성 등

**예시: `/commit 커밋 명령어 수정` 실행 시**

```
1. chore: 커밋 명령어 수정
   - Claude 커스텀 커밋 명령어 추가
2. feat: 커밋 명령어 수정
   - Claude Code용 커밋 명령어 설정 추가
3. chore: 커밋 명령어 수정
   - .claude/commands 디렉토리 및 커밋 스킬 추가
```

---

## 필수 진행 절차

**반드시 아래 순서대로 진행하세요:**

### 1단계: 변경사항 분석 및 요약

사용자에게 다음을 보여주세요:

- 변경된 파일 목록
- 주요 변경 내용 요약

### 2단계: 커밋 메시지 제안

**3가지 커밋 메시지를 제안하세요:**

1. 첫 번째 제안
2. 두 번째 제안
3. 세 번째 제안

사용자가 1, 2, 3 중 선택하거나 0으로 취소할 수 있도록 안내하세요.

### 3단계: 사용자 선택 (필수)

**커밋 전 반드시 사용자에게 확인을 받으세요:**

- 1, 2, 3 중 선택
- 0 또는 "취소" 입력 시 커밋 중단

### 4단계: 커밋 실행

- 사용자가 선택한 메시지로 커밋을 진행하세요.
- 취소 시 커밋하지 않고 종료하세요.

---
